<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Patterns - The Prowl Programming Language</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../../basics.html"><strong aria-hidden="true">2.</strong> Basics</a></li><li class="chapter-item expanded "><a href="../../old.html"><strong aria-hidden="true">3.</strong> old</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../old/introduction.html"><strong aria-hidden="true">3.1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../../old/basics.html"><strong aria-hidden="true">3.2.</strong> Basics</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../old/basics/1-fundamentals.html"><strong aria-hidden="true">3.2.1.</strong> Fundamentals</a></li><li class="chapter-item expanded "><a href="../../old/basics/2-bindings.html"><strong aria-hidden="true">3.2.2.</strong> Bindings</a></li><li class="chapter-item expanded "><a href="../../old/basics/3-patterns.html" class="active"><strong aria-hidden="true">3.2.3.</strong> Patterns</a></li><li class="chapter-item expanded "><a href="../../old/basics/4-flow.html"><strong aria-hidden="true">3.2.4.</strong> Flow</a></li><li class="chapter-item expanded "><a href="../../old/basics/5-combinators.html"><strong aria-hidden="true">3.2.5.</strong> Combinators</a></li><li class="chapter-item expanded "><a href="../../old/basics/6-modules.html"><strong aria-hidden="true">3.2.6.</strong> Modules</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Prowl Programming Language</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="patterns"><a class="header" href="#patterns">Patterns</a></h1>
<p>Patterns refer more generally to the names that succeed <code>as</code> and <code>let</code>. Prowl implements both <em>destructuring</em> and <em>pattern matching</em>, as we will see. </p>
<p>Most of the time, patterns are simply an identifier. This binds the expression to the pattern, and keeps it in the context. Patterns concatenate, allowing us to bind multiple values. However, we can also use pattern literals to assert for certain values. </p>
<h2 id="matching"><a class="header" href="#matching">Matching</a></h2>
<p>A pattern such as <code>as 0 -&gt; </code> will assert that the value that <code>as</code> pops is equal to the integer literal <code>0</code>. If true, it simply carries on the execution past <code>-&gt;</code> without any substitution. If false, the program is <em>rejected</em>, meaning it fails, and the program tells you this. </p>
<pre><code>0 as 0 -&gt; 5
</code></pre>
<p>==&gt; <code>5</code></p>
<pre><code>1 as 0 -&gt; 5
</code></pre>
<p>==&gt; <code>rejected</code></p>
<h3 id="eithers"><a class="header" href="#eithers">Eithers</a></h3>
<p>Let's introduce our first nontrivial data type - <em>eithers</em>. Eithers create a union between two types. As there can only be two of them, values are tagged either <em>left</em> or <em>right</em>. </p>
<p>A <em>left</em> value can be constructed with <code>(... ;)</code></p>
<pre><code>(5;)
</code></pre>
<p>A <em>right</em> value can be constructed with <code>(; ...)</code></p>
<pre><code>(;5)
</code></pre>
<p>As before, you can assert that a value is left or right, and extract that value once you've confirmed which kind it is. </p>
<pre><code>(;5) as (;x) -&gt; x
</code></pre>
<p>==&gt; <code>5</code></p>
<p>These structures are useful when working with a value that can be two different types, e.g. an <code>int</code> or a <code>str</code>, and will appear more motivated once we explore error handling. </p>
<h2 id="destructuring"><a class="header" href="#destructuring">Destructuring</a></h2>
<h3 id="pairs"><a class="header" href="#pairs">Pairs</a></h3>
<p>Pairs can be created using <code>(..., ...)</code>. Pairs place two values in a single spot in the stack. <code>(5, 4)</code> would place the pair of <code>5</code> and <code>4</code> on the stack. </p>
<p>Pairs can be <em>destructured</em>, meaning their value can be extracted. In this way, they are similar to eithers, but the pairs pattern cannot fail on its own in the absense of other patterns or type errors. </p>
<pre><code>(3, 4) as (x, y) -&gt; x ** 2 + y ** 2
</code></pre>
<p>==&gt; <code>25</code></p>
<h3 id="captures"><a class="header" href="#captures">Captures</a></h3>
<p>Captures are a special and important kind of data. They allow <em>functions</em>, which normally pop and push to the stack, to be literals that are placed on the stack. Captures may be known as <em>quotes</em> in other concatenative languages. However, Prowl captures are opaque - they can only be used for concatenative logic, not for metaprogramming. </p>
<p>Captures are created using <code>{ ... }</code>, as in Kitten. They <em>thunk</em> the expression inside of them, meaning they stop execution. The expression <code>{3 4}</code> places, on the stack, the function that pops none and pushes <code>3</code> and <code>4</code>. The expression <code>{+ 1}</code> pushes to the stack the function that pops an integer, adds <code>1</code> to it, and pushes the new number. </p>
<p>While there are many ways to call captures, including concatenative combinators and many library functions, one way is to simply use pattern matching. </p>
<pre><code>{7 8} as {f} -&gt; f (*)
</code></pre>
<p>==&gt; <code>56</code></p>
<p>The previous example pushes the function that places <code>7</code> and <code>8</code> to the stack. Then, the capture is destructured in <code>as</code>, and the bare function is bound to <code>f</code>. <code>f</code> is then executed, placing <code>7</code> and <code>8</code> on the stack, and then they are multiplied. </p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../old/basics/2-bindings.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../../old/basics/4-flow.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../old/basics/2-bindings.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../../old/basics/4-flow.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
